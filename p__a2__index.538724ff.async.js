"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[844],{87256:function(Ae,G,e){e.r(G),e.d(G,{default:function(){return xe}});var J=e(5574),T=e.n(J),X=e(15009),u=e.n(X),Y=e(99289),y=e.n(Y),R=e(2453),k=e(14726),K=e(85265),W=e(25093),L=e(71230),Q=e(15746),q=e(4393),_=e(86738),ee=e(75498),x=e(67294),ae=e(80933),te=e(60379),ne=e(17861),re=e(51042),le=[{id:1,name:"name 1",url:"https://gw.alipayobjects.com/zos/rmsportal/iZBVOIhGJiAnhplqjvZW.png"},{id:2,name:"name 2",url:"https://gw.alipayobjects.com/zos/rmsportal/uMfMFlvUuceEyPpotzlq.png"},{id:3,name:"name 3",url:"https://gw.alipayobjects.com/zos/rmsportal/iXjVmWVHbCJAyqvDxdtx.png"},{id:4,name:"name 4",url:"https://gw.alipayobjects.com/zos/rmsportal/iXjVmWVHbCJAyqvDxdtx.png"},{id:5,name:"name 5",url:"https://gw.alipayobjects.com/zos/rmsportal/iXjVmWVHbCJAyqvDxdtx.png"}],ie=e(2681),se=e(97857),P=e.n(se),E=e(35312);function ue(l,i){return I.apply(this,arguments)}function I(){return I=y()(u()().mark(function l(i,o){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/a2/create",P()({data:i,method:"POST"},o||{}),{"content-type":"multipart/form-data"}));case 1:case"end":return r.stop()}},l)})),I.apply(this,arguments)}function oe(l,i){return N.apply(this,arguments)}function N(){return N=y()(u()().mark(function l(i,o){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/a2/deleteA2",P()({data:i,method:"POST"},o||{})));case 1:case"end":return r.stop()}},l)})),N.apply(this,arguments)}function de(l,i){return z.apply(this,arguments)}function z(){return z=y()(u()().mark(function l(i,o){var s;return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,E.request)("/a2/getDetailA2",P()({data:i,method:"POST"},o||{}));case 2:return s=m.sent,m.abrupt("return",{data:s});case 4:case"end":return m.stop()}},l)})),z.apply(this,arguments)}function ce(l,i){return B.apply(this,arguments)}function B(){return B=y()(u()().mark(function l(i,o){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,E.request)("/a2/updateA2",P()({data:i,method:"POST"},o||{}),{"content-type":"multipart/form-data"}));case 1:case"end":return r.stop()}},l)})),B.apply(this,arguments)}var pe=e(37476),ve=e(26704),U=e(5966),H=e(86615),he=e(9426),me=e(64317),t=e(85893);function fe(l){var i,o=l.title,s=l.id,r=l.handleModalVisible,m=l.createModalVisible,c=l.handleAdd,A=l.actionRef,C=(0,E.useRequest)(function(){return de({id:s})},{refreshDeps:[s]}),a=C.data,D=C.loading,F=(0,x.useRef)();return console.log("my data",a),(0,t.jsx)(pe.Y,{title:o,width:"400px",formRef:F,open:m,onVisibleChange:r,modalProps:{destroyOnClose:!0},onFinish:function(){var $=y()(u()().mark(function M(f){var g,j,V,S,w,v,b;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return v=new FormData,v.append("name",f.name),v.append("nickName",f==null?void 0:f.nickName),v.append("gender",f.gender),v.append("state",f.state),v.append("job",f.job),v.append("avatar",(g=(j=((V=f.avatar)!==null&&V!==void 0?V:[])[0])===null||j===void 0?void 0:j.originFileObj)!==null&&g!==void 0?g:(S=((w=f.avatar)!==null&&w!==void 0?w:[])[0])===null||S===void 0?void 0:S.thumbUrl),v.append("previousName",a==null?void 0:a.name),n.next=10,c(v,s);case 10:b=n.sent,b&&(r(!1),A.current&&A.current.reload());case 12:case"end":return n.stop()}},M)}));return function(M){return $.apply(this,arguments)}}(),children:D?(0,t.jsx)(ve.uk,{type:"result"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Z,{rules:[{required:!0,message:"\u89C4\u5219\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}],width:"md",name:"name",placeholder:"Nh\u1EADp t\xEAn t\xE1c gi\u1EA3",initialValue:a==null?void 0:a.name,disabled:!!s}),(0,t.jsx)(U.Z,{width:"md",name:"nickName",placeholder:"Nh\u1EADp bi\u1EC7t danh t\xE1c gi\u1EA3",initialValue:(a==null?void 0:a.nickName)==="undefined"?"":a==null?void 0:a.nickName}),(0,t.jsx)(H.Z.Group,{name:"state",label:"T\xECnh tr\u1EA1ng",initialValue:a==null?void 0:a.state,options:[{label:"\u0110\xE3 ch\u1EBFt",value:"0"},{label:"C\xF2n s\u1ED1ng",value:"1"}]}),(0,t.jsx)(H.Z.Group,{name:"gender",label:"Gi\u1EDBi t\xEDnh",initialValue:a==null?void 0:a.gender,options:[{label:"Con trai",value:"male"},{label:"Con g\xE1i",value:"female"}]}),(0,t.jsx)(he.Z,{name:"avatar",label:"Upload",max:1,fieldProps:{name:"file",listType:"picture-card"},initialValue:s?[{url:a==null?void 0:a.avatar,thumbUrl:a==null?void 0:a.avatar,id:a==null?void 0:a.id}]:null,action:"/upload.do",title:"Avatar"}),(0,t.jsx)(me.Z,{name:"job",label:"C\xF4ng vi\u1EC7c",valueEnum:{author:"T\xE1c gi\u1EA3",artist:"H\u1ECDa s\u0129"},fieldProps:{mode:"multiple"},initialValue:a==null||(i=a.job)===null||i===void 0?void 0:i.split(","),placeholder:"Please select type",rules:[{required:!0,message:"Please select type!",type:"array"}]})]})})}var ge=e(2618),ye=function(){var l=y()(u()().mark(function i(o,s){var r;return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=R.ZP.loading("\u0110ang x\u1EED l\xFD y\xEAu c\u1EA7u"),c.prev=1,s){c.next=7;break}return c.next=5,ue(o);case 5:c.next=10;break;case 7:return o.append("id",s),c.next=10,ce(o);case 10:return r(),R.ZP.success("T\u1EA1o th\xE0nh c\xF4ng"),c.abrupt("return",!0);case 15:return c.prev=15,c.t0=c.catch(1),r(),R.ZP.error("C\xF3 l\u1ED7i x\u1EA3y ra\uFF01"),c.abrupt("return",!1);case 20:case"end":return c.stop()}},i,null,[[1,15]])}));return function(o,s){return l.apply(this,arguments)}}();function xe(){var l=(0,x.useState)(!1),i=T()(l,2),o=i[0],s=i[1],r=(0,x.useState)(!1),m=T()(r,2),c=m[0],A=m[1],C=(0,x.useRef)(),a=(0,x.useState)(""),D=T()(a,2),F=D[0],$=D[1],M=(0,x.useState)(),f=T()(M,2),g=f[0],j=f[1],V=(0,x.useState)(!1),S=T()(V,2),w=S[0],v=S[1],b=[{title:"T\xEAn t\xE1c gi\u1EA3",dataIndex:"name",render:function(n,h){return(0,t.jsx)("a",{onClick:function(){j(h),A(!0)},children:n})}},{title:"Bi\u1EC7t danh",dataIndex:"nickName",render:function(n){return n==="undefined"?"Ch\u01B0a c\xF3":n}},{title:"C\xF2n s\u1ED1ng hay kh\xF4ng",dataIndex:"state",hideInForm:!0,valueEnum:{0:{text:"Ch\u1EBFt",status:"Default"},1:{text:"S\u1ED1ng",status:"Success"}}},{title:"Avatar",dataIndex:"avatar",search:!1,render:function(n){return console.log("my item",n),(0,t.jsx)("img",{src:n==="-"?"https://malworld.blob.core.windows.net/a2-profiles/avatar.jpeg":n,width:50,height:50})}},{title:"C\xF4ng vi\u1EC7c",search:!1,dataIndex:"job"},{title:"S\u1ED1 l\u01B0\u1EE3ng ng\u01B0\u1EDDi follow",search:!1,dataIndex:"quantityOfFollow"},{title:"S\u1ED1 l\u01B0\u1EE3ng t\xE1c ph\u1EA9m",search:!1,dataIndex:"quantityOfManga"},{title:"Action",dataIndex:"",valueType:"",search:!1,render:function(n,h){return[(0,t.jsx)("a",{onClick:function(){$(h.id),s(!0),j(h)},children:"Edit"},"config")]}}];return(0,x.useEffect)(function(){o||$("")},[o]),(0,t.jsxs)(ae._z,{children:[(0,t.jsx)(te.Z,{headerTitle:"Author/ Artist",actionRef:C,rowKey:"key",search:{labelWidth:120},defaultSize:10,toolBarRender:function(){return[(0,t.jsxs)(k.ZP,{type:"primary",onClick:function(){s(!0)},children:[(0,t.jsx)(re.Z,{})," Add Author or Artist"]},"primary")]},options:!1,request:function(){var d=y()(u()().mark(function n(h,p,je){var O;return u()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,ge.q$)(h,p,je);case 2:return O=Z.sent,Z.abrupt("return",{data:O.data.data,success:O.success,total:O.total});case 4:case"end":return Z.stop()}},n)}));return function(n,h,p){return d.apply(this,arguments)}}(),columns:b,form:{layout:"vertical"}}),(0,t.jsx)(fe,{id:F,title:F?"C\u1EADp nh\u1EADt th\xF4ng tin t\xE1c gi\u1EA3":"Th\xEAm m\u1EDBi t\xE1c gi\u1EA3 ho\u1EB7c h\u1ECDa s\u0129",createModalVisible:o,handleModalVisible:s,handleAdd:ye,actionRef:C}),(0,t.jsxs)(K.Z,{width:600,open:c,onClose:function(){j(void 0),A(!1)},closable:!1,styles:{position:"relative"},children:[(0,t.jsx)(ne.vY,{column:2,title:g==null?void 0:g.name,request:y()(u()().mark(function d(){return u()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",{data:g||{}});case 1:case"end":return h.stop()}},d)})),params:{id:g==null?void 0:g.name},columns:b.filter(function(d,n){return n!==b.length-1})}),(0,t.jsx)(W.Z.Text,{style:{fontWeight:700},children:"Danh s\xE1ch t\xE1c ph\u1EA9m: "}),(0,t.jsx)(L.Z,{gutter:[10,10],style:{marginTop:10},children:le.map(function(d){return(0,t.jsx)(Q.Z,{span:12,children:(0,t.jsx)(q.Z,{cover:(0,t.jsx)("img",{alt:"example",src:d.url}),children:(0,t.jsx)(W.Z.Text,{children:d.name})})},d.id)})}),(0,t.jsx)(_.Z,{title:"X\xF3a t\xE1c gi\u1EA3",description:"B\u1EA1n c\xF3 ch\u1EAFc l\xE0 b\u1EA1n mu\u1ED1n x\xF3a \u0111i t\xE1c gi\u1EA3?",onConfirm:y()(u()().mark(function d(){var n;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v(!0),p.prev=1,p.next=4,oe({id:g.id});case 4:(n=C.current)===null||n===void 0||n.reload(),A(!1),v(!1),p.next=13;break;case 9:p.prev=9,p.t0=p.catch(1),R.ZP.error("\u0110\xE3 c\xF3 l\u1ED7i x\u1EA3y ra !"),v(!1);case 13:case"end":return p.stop()}},d,null,[[1,9]])})),onCancel:function(){},okText:"Yes",okButtonProps:{loading:w},cancelText:"No",children:(0,t.jsx)(ee.Z,{type:"primary",icon:(0,t.jsx)(ie.Z,{})})})]})]})}}}]);
